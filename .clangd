CompileFlags:
  CompilationDatabase: build/Release-MSYS2
  Add:
    # Add Qt-specific defines to help with symbol resolution
    - "-DQT_CORE_LIB"
    - "-DQT_GUI_LIB"
    - "-DQT_WIDGETS_LIB"
    - "-DQT_SVG_LIB"
    # Improve Qt header parsing
    - "-Wno-unknown-pragmas"
    - "-Wno-unused-parameter"
  Remove:
    # Remove C++20 modules flags that clangd doesn't support yet
    - "-fmodules-ts"
    - "-fmodule-mapper=*"
    - "-fdeps-format=*"
    # Remove other potentially problematic flags
    - "-MD"
    - "-x"

# Additional clangd configuration
Index:
  Background: Build

Diagnostics:
  UnusedIncludes: Relaxed
  MissingIncludes: None
  Suppress:
    - "missing-includes"
  ClangTidy:
    Remove:
      - "misc-include-cleaner"

InlayHints:
  Enabled: true
  ParameterNames: true
  DeducedTypes: true

Hover:
  ShowAKA: true

# Qt-specific configuration to improve symbol resolution
Completion:
  AllScopes: true
